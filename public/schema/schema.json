{"$schema":"http://json-schema.org/draft-04/hyper-schema","id":"http://evely.localhost/schema","title":"EvelyApi v2.2","type":"object","properties":{"EmailPayload":{"$ref":"#/definitions/EmailPayload"},"EventPayload":{"$ref":"#/definitions/EventPayload"},"Location":{"$ref":"#/definitions/Location"},"LoginPayload":{"$ref":"#/definitions/LoginPayload"},"NotifyPayload":{"$ref":"#/definitions/NotifyPayload"},"PinPayload":{"$ref":"#/definitions/PinPayload"},"ReviewPayload":{"$ref":"#/definitions/ReviewPayload"},"Schedule":{"$ref":"#/definitions/Schedule"},"SettingPayload":{"$ref":"#/definitions/SettingPayload"},"SignupPayload":{"$ref":"#/definitions/SignupPayload"},"TokenPayload":{"$ref":"#/definitions/TokenPayload"},"UpcomingDate":{"$ref":"#/definitions/UpcomingDate"},"UserModifyPayload":{"$ref":"#/definitions/UserModifyPayload"},"auth":{"$ref":"#/definitions/auth"},"error":{"$ref":"#/definitions/error"},"events":{"$ref":"#/definitions/events"},"files":{"$ref":"#/definitions/files"},"pins":{"$ref":"#/definitions/pins"},"reviews":{"$ref":"#/definitions/reviews"},"swagger":{"$ref":"#/definitions/swagger"},"users":{"$ref":"#/definitions/users"}},"definitions":{"EmailPayload":{"title":"EmailPayload","type":"object","properties":{"email":{"type":"string","description":"メールアドレス","example":"yKicchanApp@gmail.com","format":"email"}},"description":"新規登録時のメール送信","example":{"email":"yKicchanApp@gmail.com"},"required":["email"]},"EventPayload":{"title":"EventPayload","type":"object","properties":{"body":{"type":"string","description":"イベントの詳細","example":"初心者でもGitを扱えるようになる勉強会を開催します！\nノートPCを各自持参してください。","minLength":1,"maxLength":1000},"categorys":{"type":"array","items":{"type":"string","example":"Et rem odio et possimus cupiditate."},"description":"カテゴリ","example":["Workshop \u0026 Conference","Festival"],"minLength":1,"maxLength":9},"files":{"type":"array","items":{"type":"string","example":"Totam ipsa sit enim accusamus voluptatum natus."},"description":"添付資料","example":["doc1.jpg","doc2.pdf"]},"image":{"type":"string","description":"イベントのヘッダーイメージ","default":"","example":"header.jpg"},"mail":{"type":"string","description":"連絡先メールアドレス","default":"","example":"yKicchanApp@gmail.com","format":"email"},"noticeRange":{"type":"integer","description":"通知範囲(m)","example":500,"minimum":100,"maximum":5000},"openFlg":{"type":"boolean","description":"開催中かどうか","default":false,"example":false},"schedules":{"type":"array","items":{"$ref":"#/definitions/Schedule"},"description":"イベントの開催予定一覧","example":[{"location":{"lat":34.706424,"lng":135.50123,"name":"ECCコンピュータ専門学校2303教室"},"upcomingDate":{"endDate":"1975-07-28T07:45:40Z","startDate":"2005-04-23T09:00:35Z"}},{"location":{"lat":34.706424,"lng":135.50123,"name":"ECCコンピュータ専門学校2303教室"},"upcomingDate":{"endDate":"1975-07-28T07:45:40Z","startDate":"2005-04-23T09:00:35Z"}}],"minLength":1},"scope":{"type":"string","description":"公開範囲","default":"public","example":"public","enum":["public","private"]},"tel":{"type":"string","description":"連絡先電話番号","default":"","example":"090-1234-5678"},"title":{"type":"string","description":"イベントの名前","example":"Git勉強会","minLength":1,"maxLength":30},"url":{"type":"string","description":"URL","default":"","example":"http://comp.ecc.ac.jp/","format":"uri"}},"description":"イベント作成・編集で受け取るイベント情報","example":{"body":"初心者でもGitを扱えるようになる勉強会を開催します！\nノートPCを各自持参してください。","categorys":["Workshop \u0026 Conference","Festival"],"files":["doc1.jpg","doc2.pdf"],"image":"header.jpg","mail":"yKicchanApp@gmail.com","noticeRange":500,"openFlg":false,"schedules":[{"location":{"lat":34.706424,"lng":135.50123,"name":"ECCコンピュータ専門学校2303教室"},"upcomingDate":{"endDate":"1975-07-28T07:45:40Z","startDate":"2005-04-23T09:00:35Z"}},{"location":{"lat":34.706424,"lng":135.50123,"name":"ECCコンピュータ専門学校2303教室"},"upcomingDate":{"endDate":"1975-07-28T07:45:40Z","startDate":"2005-04-23T09:00:35Z"}}],"scope":"public","tel":"090-1234-5678","title":"Git勉強会","url":"http://comp.ecc.ac.jp/"},"required":["title","body","categorys","schedules","noticeRange"]},"Location":{"title":"Location","type":"object","properties":{"lat":{"type":"number","description":"緯度","example":34.706424,"minimum":-90,"maximum":90},"lng":{"type":"number","description":"経度","example":135.50123,"minimum":-180,"maximum":180},"name":{"type":"string","description":"名前","example":"ECCコンピュータ専門学校2303教室","minLength":1,"maxLength":50}},"description":"イベントの開催場所","example":{"lat":34.706424,"lng":135.50123,"name":"ECCコンピュータ専門学校2303教室"},"required":["name","lat","lng"]},"LoginPayload":{"title":"LoginPayload","type":"object","properties":{"id":{"type":"string","description":"ユーザーID","example":"yKicchan"},"password":{"type":"string","description":"パスワード","example":"password"}},"description":"認証時に受け取るログイン情報","example":{"id":"yKicchan","password":"password"},"required":["id","password"]},"NotifyPayload":{"title":"NotifyPayload","type":"object","properties":{"instance_id":{"type":"string","description":"インスタンスID","default":"","example":"id"},"lat":{"type":"number","description":"緯度","example":34.706424,"minimum":-90,"maximum":90},"lng":{"type":"number","description":"経度","example":135.50123,"minimum":-180,"maximum":180}},"description":"通知のための現在位置情報\nゲストユーザーは通知先となるインスタンスIDを設定する","example":{"instance_id":"id","lat":34.706424,"lng":135.50123},"required":["lat","lng"]},"PinPayload":{"title":"PinPayload","type":"object","properties":{"ids":{"type":"array","items":{"type":"string","example":"Quidem delectus aut eius."},"description":"ピンするイベントのID配列","example":["5a44d5f2775672b659ba00fa","5a44d5f2775672b659ba00fb"]}},"description":"ピンする/外すイベントのID","example":{"ids":["5a44d5f2775672b659ba00fa","5a44d5f2775672b659ba00fb"]},"required":["ids"]},"ReviewPayload":{"title":"ReviewPayload","type":"object","properties":{"body":{"type":"string","description":"レビューの内容","example":"jkz4yd4fa1","minLength":1,"maxLength":5000},"files":{"type":"array","items":{"type":"string","example":"Ullam voluptatem."},"description":"レビュー画像など","example":["angle1.jpg","angle2.jpg"]},"rate":{"type":"integer","description":"レート評価","example":4,"enum":[1,2,3,4,5]},"title":{"type":"string","description":"レビューのタイトル","example":"gwqq84","minLength":1,"maxLength":30}},"description":"レビュー投稿で受け取るレビュー情報","example":{"body":"jkz4yd4fa1","files":["angle1.jpg","angle2.jpg"],"rate":4,"title":"gwqq84"},"required":["rate","title","body"]},"Schedule":{"title":"Schedule","type":"object","properties":{"location":{"$ref":"#/definitions/Location"},"upcomingDate":{"$ref":"#/definitions/UpcomingDate"}},"description":"イベントの開催予定情報","example":{"location":{"lat":34.706424,"lng":135.50123,"name":"ECCコンピュータ専門学校2303教室"},"upcomingDate":{"endDate":"1975-07-28T07:45:40Z","startDate":"2005-04-23T09:00:35Z"}},"required":["location","upcomingDate"]},"SettingPayload":{"title":"SettingPayload","type":"object","properties":{"preferences":{"type":"array","items":{"type":"string","example":"Tempore consequatur dicta."},"description":"通知を許可するカテゴリの配列","example":["Workshop \u0026 Conference","Festival"],"maxLength":9}},"description":"ユーザー設定を変更する","example":{"preferences":["Workshop \u0026 Conference","Festival"]}},"SignupPayload":{"title":"SignupPayload","type":"object","properties":{"device_token":{"type":"string","description":"デバイストークン","default":"","example":"token"},"id":{"type":"string","description":"ユーザーID","example":"yKicchan","pattern":"^[a-zA-Z0-9_]{4,15}$"},"instance_id":{"type":"string","description":"インスタンスID","default":"","example":"id"},"mail":{"type":"string","description":"メールアドレス","example":"yKicchanApp@gmail.com","format":"email"},"name":{"type":"string","description":"名前","example":"きっちゃそ","minLength":1,"maxLength":50},"password":{"type":"string","description":"パスワード","example":"password","minLength":8},"tel":{"type":"string","description":"電話番号","default":"","example":"090-1234-5678"}},"description":"アカウント作成時に受け取る情報","example":{"device_token":"token","id":"yKicchan","instance_id":"id","mail":"yKicchanApp@gmail.com","name":"きっちゃそ","password":"password","tel":"090-1234-5678"},"required":["id","password","name","mail"]},"TokenPayload":{"title":"TokenPayload","type":"object","properties":{"device_token":{"type":"string","description":"デバイストークン","example":"token"},"instance_id":{"type":"string","description":"インスタンスID","example":"id"}},"description":"通知先を更新・登録するためのデバイストークンとインスタンスIDのペア","example":{"device_token":"token","instance_id":"id"},"required":["device_token","instance_id"]},"UpcomingDate":{"title":"UpcomingDate","type":"object","properties":{"endDate":{"type":"string","description":"終了日時","example":"1975-07-28T07:45:40Z","format":"date-time"},"startDate":{"type":"string","description":"開始日時","example":"2005-04-23T09:00:35Z","format":"date-time"}},"description":"イベントの開催予定日","example":{"endDate":"1975-07-28T07:45:40Z","startDate":"2005-04-23T09:00:35Z"},"required":["startDate","endDate"]},"UserModifyPayload":{"title":"UserModifyPayload","type":"object","properties":{"email":{"type":"string","default":"","example":"Qui omnis."},"icon":{"type":"string","description":"アイコン画像","default":"","example":"icon.png"},"name":{"type":"string","description":"名前","default":"","example":"きっちゃそ","minLength":1,"maxLength":50},"tel":{"type":"string","description":"電話番号","default":"","example":"090-1234-5678"}},"description":"プロフィール編集の時のペイロード","example":{"email":"Qui omnis.","icon":"icon.png","name":"きっちゃそ","tel":"090-1234-5678"}},"auth":{"title":"auth","type":"object","links":[{"title":"send_mail","rel":"send_mail","href":"/api/develop/v2/auth/signup/send_mail","method":"POST","schema":{"description":"send_mail payload","$ref":"#/definitions/EmailPayload"},"targetSchema":{"$ref":"#/definitions/error"},"mediaType":"application/vnd.goa.error"},{"title":"signin","rel":"signin","href":"/api/develop/v2/auth/signin","method":"POST","schema":{"description":"signin payload","$ref":"#/definitions/LoginPayload"},"targetSchema":{"$ref":"#/definitions/error"},"mediaType":"application/vnd.goa.error"},{"title":"signup","rel":"signup","href":"/api/develop/v2/auth/signup","method":"POST","schema":{"description":"signup payload","$ref":"#/definitions/SignupPayload"},"targetSchema":{"$ref":"#/definitions/error"},"mediaType":"application/vnd.goa.error"},{"title":"verify_token","rel":"verify_token","href":"/api/develop/v2/auth/signup/verify_token","method":"GET","targetSchema":{"anyOf":[{"$ref":"#/definitions/error"},{"$ref":"#/definitions/error"}]}}]},"error":{"title":"Mediatype identifier: application/vnd.goa.error; view=default","type":"object","properties":{"code":{"type":"string","description":"an application-specific error code, expressed as a string value.","example":"invalid_value"},"detail":{"type":"string","description":"a human-readable explanation specific to this occurrence of the problem.","example":"Value of ID must be an integer"},"id":{"type":"string","description":"a unique identifier for this particular occurrence of the problem.","example":"3F1FKVRR"},"meta":{"type":"object","description":"a meta object containing non-standard meta-information about the error.","example":{"timestamp":1458609066},"additionalProperties":true},"status":{"type":"string","description":"the HTTP status code applicable to this problem, expressed as a string value.","example":"400"}},"description":"Error response media type (default view)","example":{"code":"invalid_value","detail":"Value of ID must be an integer","id":"3F1FKVRR","meta":{"timestamp":1458609066},"status":"400"},"media":{"type":"application/vnd.goa.error; view=default"}},"events":{"title":"events","type":"object","links":[{"title":"create","rel":"create","href":"/api/develop/v2/events","method":"POST","schema":{"description":"create payload","$ref":"#/definitions/EventPayload"},"targetSchema":{"anyOf":[{"$ref":"#/definitions/error"},{"$ref":"#/definitions/error"}]}},{"title":"delete","rel":"delete","href":"/api/develop/v2/events/{event_id}","method":"DELETE","targetSchema":{"anyOf":[{"$ref":"#/definitions/error"},{"$ref":"#/definitions/error"},{"$ref":"#/definitions/error"},{"$ref":"#/definitions/error"}]}},{"title":"list","rel":"list","href":"/api/develop/v2/events","method":"GET","targetSchema":{"anyOf":[{"$ref":"#/definitions/error"},{"$ref":"#/definitions/error"}]}},{"title":"modify","rel":"modify","href":"/api/develop/v2/events/{event_id}","method":"PUT","schema":{"description":"modify payload","$ref":"#/definitions/EventPayload"},"targetSchema":{"anyOf":[{"$ref":"#/definitions/error"},{"$ref":"#/definitions/error"},{"$ref":"#/definitions/error"},{"$ref":"#/definitions/error"}]}},{"title":"my_list","rel":"my_list","href":"/api/develop/v2/events/my_list","method":"GET","targetSchema":{"anyOf":[{"$ref":"#/definitions/error"},{"$ref":"#/definitions/error"}]}},{"title":"nearby","rel":"nearby","href":"/api/develop/v2/events/nearby","method":"GET","targetSchema":{"$ref":"#/definitions/error"},"mediaType":"application/vnd.goa.error"},{"title":"notify","rel":"notify","href":"/api/develop/v2/events/notify","method":"POST","schema":{"description":"notify payload","$ref":"#/definitions/NotifyPayload"},"targetSchema":{"anyOf":[{"$ref":"#/definitions/error"},{"$ref":"#/definitions/error"}]}},{"title":"pin","rel":"pin","href":"/api/develop/v2/events/pin/{user_id}","method":"GET","targetSchema":{"$ref":"#/definitions/error"},"mediaType":"application/vnd.goa.error"},{"title":"show","rel":"self","href":"/api/develop/v2/events/detail","method":"GET","targetSchema":{"anyOf":[{"$ref":"#/definitions/error"},{"$ref":"#/definitions/error"}]}},{"title":"update","rel":"update","href":"/api/develop/v2/events/update","method":"GET"}]},"files":{"title":"files","type":"object","links":[{"title":"upload","rel":"upload","href":"/api/develop/v2/files/upload","method":"POST","targetSchema":{"$ref":"#/definitions/error"},"mediaType":"application/vnd.goa.error"}]},"pins":{"title":"pins","type":"object","links":[{"title":"off","rel":"off","href":"/api/develop/v2/pins/off","method":"PUT","schema":{"description":"off payload","$ref":"#/definitions/PinPayload"},"targetSchema":{"anyOf":[{"$ref":"#/definitions/error"},{"$ref":"#/definitions/error"}]}},{"title":"on","rel":"on","href":"/api/develop/v2/pins/on","method":"PUT","schema":{"description":"on payload","$ref":"#/definitions/PinPayload"},"targetSchema":{"anyOf":[{"$ref":"#/definitions/error"},{"$ref":"#/definitions/error"}]}}]},"reviews":{"title":"reviews","type":"object","links":[{"title":"create","rel":"create","href":"/api/develop/v2/reviews/{event_id}","method":"POST","schema":{"description":"create payload","$ref":"#/definitions/ReviewPayload"},"targetSchema":{"anyOf":[{"$ref":"#/definitions/error"},{"$ref":"#/definitions/error"}]}},{"title":"list","rel":"list","href":"/api/develop/v2/reviews/{event_id}","method":"GET","targetSchema":{"anyOf":[{"$ref":"#/definitions/error"},{"$ref":"#/definitions/error"}]}}]},"swagger":{"title":"swagger","type":"object"},"users":{"title":"users","type":"object","links":[{"title":"modify","rel":"modify","href":"/api/develop/v2/users","method":"PUT","schema":{"description":"modify payload","$ref":"#/definitions/UserModifyPayload"},"targetSchema":{"anyOf":[{"$ref":"#/definitions/error"},{"$ref":"#/definitions/error"}]}},{"title":"modify_token","rel":"modify_token","href":"/api/develop/v2/users/update/token","method":"POST","schema":{"description":"modify_token payload","$ref":"#/definitions/TokenPayload"},"targetSchema":{"anyOf":[{"$ref":"#/definitions/error"},{"$ref":"#/definitions/error"}]}},{"title":"setting","rel":"setting","href":"/api/develop/v2/users/setting","method":"PUT","schema":{"description":"setting payload","$ref":"#/definitions/SettingPayload"},"targetSchema":{"anyOf":[{"$ref":"#/definitions/error"},{"$ref":"#/definitions/error"}]}},{"title":"show","rel":"self","href":"/api/develop/v2/users/{user_id}","method":"GET","targetSchema":{"anyOf":[{"$ref":"#/definitions/error"},{"$ref":"#/definitions/error"}]}}]}},"description":"卒業制作のアプリケーションで使用するAPIです","links":[{"rel":"self","href":"http://evely.localhost"},{"rel":"self","href":"/schema","method":"GET","targetSchema":{"$schema":"http://json-schema.org/draft-04/hyper-schema","additionalProperties":true}}]}